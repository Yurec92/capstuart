package com.webapptest.model.dao;import java.sql.Connection;import java.sql.PreparedStatement;import java.sql.ResultSet;import java.sql.SQLException;import javax.sql.DataSource;import org.springframework.jdbc.core.RowMapper;import org.springframework.jdbc.core.JdbcTemplate;import java.util.List;import java.util.ArrayList;import com.webapptest.model.entity.Section;import org.springframework.jdbc.core.support.JdbcDaoSupport;import java.util.Map;import org.springframework.jdbc.core.BeanPropertyRowMapper;import org.springframework.dao.EmptyResultDataAccessException;public class SectionDAO{	private JdbcTemplate jdbcTemplate;	public void setDataSource(DataSource dataSource) {		jdbcTemplate = new JdbcTemplate(dataSource);	}			public List<Section> findAll()	{ 		String sql = "SELECT * FROM SECTIONS";		List<Section> sections = new ArrayList<Section>();		List<Map<String,Object>> rows = jdbcTemplate.queryForList(sql);		for (Map row : rows) 		{			Section section = new Section();			section.setId((Integer)(row.get("id")));			section.setName((String)row.get("name"));			section.setPathToFile((String)row.get("pathToFile"));			sections.add(section);		} 		return sections;	}		public Section findById(int id)	{		String sql = "SELECT * FROM SECTIONS WHERE ID=?";		return (Section)jdbcTemplate.queryForObject(sql,new Object[]{id},new BeanPropertyRowMapper(Section.class));	}		public Section findByName(String name)	{			String sql = "SELECT * FROM SECTIONS WHERE NAME=?";		try{			return (Section)jdbcTemplate.queryForObject(sql,new Object[]{name},new BeanPropertyRowMapper(Section.class));		}		catch (EmptyResultDataAccessException e)		{			return null;		}	}		public void addSection(Section section)	{		String sql="INSERT INTO SECTIONS(`NAME`,`PATHTOFILE`) VALUES(?,?)";		jdbcTemplate.update(sql,new Object[]{section.getName(),section.getPathToFile()});			}			public void delete(String name)	{		String sql="DELETE FROM SECTIONS WHERE NAME=?";		jdbcTemplate.update(sql,new Object[]{name});			}		}