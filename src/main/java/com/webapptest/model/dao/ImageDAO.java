package com.webapptest.model.dao;import java.sql.Connection;import java.sql.PreparedStatement;import java.sql.ResultSet;import java.sql.SQLException;import javax.sql.DataSource;import org.springframework.jdbc.core.RowMapper;import org.springframework.jdbc.core.JdbcTemplate;import java.util.List;import java.util.ArrayList;import com.webapptest.model.entity.Image;import org.springframework.jdbc.core.support.JdbcDaoSupport;import java.util.Map;import com.webapptest.model.entity.Image;public class ImageDAO{	private JdbcTemplate jdbcTemplate;	public void setDataSource(DataSource dataSource) 	{		jdbcTemplate = new JdbcTemplate(dataSource);	}	public List<Image> findAll()	{ 		String sql = "SELECT * FROM IMAGES";		List<Image> images = new ArrayList<Image>();		List<Map<String,Object>> rows = jdbcTemplate.queryForList(sql);		for (Map row : rows) 		{			Image image = new Image();			image.setId((Integer)(row.get("id")));			image.setName((String)row.get("name"));			image.setPathToFile((String)row.get("pathToFile"));			image.setIdOfGroup((Integer)(row.get("idOfGroup")));			image.setIdOfSection((Integer)(row.get("idOfSection")));			images.add(image);		} 		return images;	}	public List<Image> findByIdOfGroup(int idOfGroup)	{ 		String sql = "SELECT * FROM IMAGES WHERE IDOFGROUP=?";		List<Image> images = new ArrayList<Image>();		List<Map<String,Object>> rows = jdbcTemplate.queryForList(sql,new Object[]{idOfGroup});		for (Map row : rows) 		{			Image image = new Image();			image.setId((Integer)(row.get("id")));			image.setName((String)row.get("name"));			image.setPathToFile((String)row.get("pathToFile"));			image.setIdOfGroup((Integer)(row.get("idOfGroup")));			image.setIdOfSection((Integer)(row.get("idOfSection")));			images.add(image);		} 		return images;	}	public List<Image> findByIdOfSection(int idOfSection)	{ 		String sql = "SELECT * FROM IMAGES WHERE IDOFSECTION=?";		List<Image> images = new ArrayList<Image>();		List<Map<String,Object>> rows = jdbcTemplate.queryForList(sql,new Object[]{idOfSection});		for (Map row : rows) 		{			Image image = new Image();			image.setId((Integer)(row.get("id")));			image.setName((String)row.get("name"));			image.setPathToFile((String)row.get("pathToFile"));			image.setIdOfGroup((Integer)(row.get("idOfGroup")));			image.setIdOfSection((Integer)(row.get("idOfSection")));			images.add(image);		} 		return images;	}	public void addImage(String name,String pathToFile,int idOfGroup,int idOfSection)	{		String sql="INSERT INTO IMAGES(`NAME`,`PATHTOFILE`,`IDOFGROUP`,`IDOFSECTION`) VALUES(?,?,?,?)";		jdbcTemplate.update(sql,new Object[]{name,pathToFile,new Integer(idOfGroup),new Integer(idOfSection)});			}			}